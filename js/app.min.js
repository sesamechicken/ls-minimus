function clock(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds();if(am_pm=b>=12?"p":"a",twelve_hour_time&&(b>=13&&(b-=12),0==b&&(b=12),10>c&&(c="0"+c),10>d&&(d="0"+d)),show_seconds)var e=b+":"+c+":"+d;else var e=b+":"+c;$("#clock").html(e+" <span class='am-pm'>"+am_pm+"</span>"),$("#date").html(a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear()),a.textDay(),$("#day_of_week").html(a.day)}function getWeather(a){if(tempType=celcius?"c":"f",useSmallData){var b=Math.floor(999999*Math.random()+1e5);$.ajax({type:"GET",url:"http://project107.net/api/lockscreen/weather/small-data.php?locale="+a+"&tempType="+tempType+"&salt="+b,crossDomain:!0,dataType:"text",success:function(a){parseWeather(a,"small")},error:function(){$("#status").html("An error occured getting weather data from project107"),useSmallData=!1,getWeather(a)}})}else $.ajax({type:"GET",url:"http://weather.yahooapis.com/forecastrss?u="+tempType+"&p="+a+"&callback=c&salt="+b,crossDomain:!0,dataType:"text",success:function(a){parseWeather(a,"big")},error:function(){$("#status").html("An error occured getting weather data from yahoo")}})}function parseWeather(a,b){if("small"==b)var c=a,d=$.parseXML(c),e=$(d),f=e.find("temp"),g=e.find("desc"),h=e.find("code"),i=e.find("high"),j=e.find("low");else var c=a,d=$.parseXML(c),e=$(d),f=e.find("yweather\\:condition, temp").attr("temp"),g=e.find("yweather\\:condition, text").attr("text"),h=e.find("yweather\\:condition, code").attr("code"),i=e.find("yweather\\:forecast, high").attr("high"),j=e.find("yweather\\:forecast, low").attr("low");$("#temp_max").html(i),$("#temp_min").html(j),$("#temp_val").html(f),$("#temp_conditions").html(g),$("#weather-icon").html("<img src='Weather/icons/"+h.text()+".png' class='icon' />"),hideLoader()}function showLoader(){$("#weather_container").hide(),$("#loader").show()}function hideLoader(){$("#loader").fadeOut(),$("#weather_container").fadeIn()}$(document).ready(function(){clock(),showLoader(),getWeather(locale)});var clockInt=setInterval(clock,1e3);Date.prototype.textDay=function(){0==this.getDay()&&(this.day="Sunday"),1==this.getDay()&&(this.day="Monday"),2==this.getDay()&&(this.day="Tuesday"),3==this.getDay()&&(this.day="Wednesday"),4==this.getDay()&&(this.day="Thursday"),5==this.getDay()&&(this.day="Friday"),6==this.getDay()&&(this.day="Saturday")};